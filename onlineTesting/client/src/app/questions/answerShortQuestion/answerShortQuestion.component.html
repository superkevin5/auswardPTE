<section class="answerShortQuestion-container">
  <mat-progress-bar mode="indeterminate" *ngIf="isLoading" color="accent"></mat-progress-bar>
  <h4 class="title">Speaking items - Answer Short Questions</h4>

  <div class="question-continer" fxLayout="column" fxLayoutAlign="center center">

    <h4 class="question-title">
      <span>Question {{currentIndex+1}} :
        You will hear a sentence. Please repeat the sentence exactly as you hear it. You will hear the sentence only once.
      </span>
    </h4>

    <div class="question-body" fxLayout="column" fxLayoutAlign="space-between center">

      <div class="pte-center">
        <button mat-button (click)="tooltip.show()" >Audio transcript</button><br>
        <!--<div class="pte-tooltip" [matTooltipPosition]="'above'" matTooltip="{{shortQuestions[currentIndex]?.description}}" #tooltip="matTooltip"></div>-->
      </div>


      <pte-player (onPlayEnd)="playerEnd($event)" [questionType]="'answerShortQuestion'"
                  [question]="shortQuestions[currentIndex]"
                  *ngIf="!isLoading&&shortQuestions[currentIndex]?.description"></pte-player>



      <mat-card *ngIf="isAnswer">{{shortQuestions[currentIndex]?.description}}</mat-card>

      <button style="margin-bottom:5px" mat-raised-button color="primary" *ngIf="recordedDone" (click)="playRecord()">
        &nbsp;My &nbsp;record&nbsp;</button>
      <button mat-raised-button color="primary" *ngIf="!isAnswer" (click)="toggleAnswer(true)">Show Script</button>
      <button mat-raised-button color="primary" *ngIf="isAnswer" (click)="toggleAnswer(false)">Close Script</button>

    </div>

    <div class="question-footer">

      <mat-button-toggle-group>
        <button (click)="previous();" mat-button="" title="Previous">
      <span class="mat-button-wrapper">
        <mat-icon
          class="mat-icon" aria-hidden="true">
        navigate_before
        </mat-icon></span>
          Pre
        </button>

        <button (click)="next();" mat-button="" title="Next">
      <span class="mat-button-wrapper">
          Next
        <mat-icon
          class="mat-icon" aria-hidden="true">
        navigate_next
        </mat-icon></span>
        </button>
      </mat-button-toggle-group>

      <div fxHide.xs fxHide.sm>
        <button mat-button (click)="goto(gotoNumber);">Go</button>
        <mat-form-field>
          <input matInput [formControl]="pageFormControl"
                 placeholder="Jump to a question" [(ngModel)]="gotoNumber" pattern="^[0-9]+$" required>
          <mat-error *ngIf="pageFormControl.errors?.pattern">
            <strong>Should be a number</strong>
          </mat-error>
          <mat-error *ngIf="pageFormControl.errors?.required">
            <strong>Number required</strong>
          </mat-error>
        </mat-form-field>
        <span>Question {{currentIndex+1}} of  {{shortQuestions.length}}</span>
      </div>
    </div>
  </div>
</section>
